var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function l(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function f(){return t=" ",document.createTextNode(t);var t}function h(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function d(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function s(t){return""===t?void 0:+t}let p;function g(t){p=t}const $=[],m=Promise.resolve();let v=!1;const _=[],b=[],y=[];function x(t){b.push(t)}function w(){const t=new Set;do{for(;$.length;){const t=$.shift();g(t),k(t.$$)}for(;_.length;)_.shift()();for(;b.length;){const e=b.pop();t.has(e)||(e(),t.add(e))}}while($.length);for(;y.length;)y.pop()();v=!1}function k(t){t.fragment&&(t.update(t.dirty),r(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(x))}function N(t,e){t.$$.dirty||($.push(t),v||(v=!0,m.then(w)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function E(i,u,c,l,a,f){const h=p;g(i);const d=u.props||{},s=i.$$={fragment:null,ctx:null,props:f,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:null};let $=!1;var m;s.ctx=c?c(i,d,(t,e)=>{s.ctx&&a(s.ctx[t],s.ctx[t]=e)&&(s.bound[t]&&s.bound[t](e),$&&N(i,t))}):d,s.update(),$=!0,r(s.before_render),s.fragment=l(s.ctx),u.target&&(u.hydrate?s.fragment.l((m=u.target,Array.from(m.childNodes))):s.fragment.c(),u.intro&&i.$$.fragment.i&&i.$$.fragment.i(),function(t,n,i){const{fragment:u,on_mount:c,on_destroy:l,after_render:a}=t.$$;u.m(n,i),x(()=>{const n=c.map(e).filter(o);l?l.push(...n):r(n),t.$$.on_mount=[]}),a.forEach(x)}(i,u.target,u.anchor),w()),g(h)}class D{$destroy(){var e,n;n=!0,(e=this).$$&&(r(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function j(t,e,n){const r=Object.create(t);return r.v=e[n],r.y=n,r}function C(t,e,n){const r=Object.create(t);return r.row=e[n],r.x=n,r}function M(t){var e,n,r;function o(){return t.click_handler(t)}return{c(){(e=a("div")).className=n=(t.v?"red":"green")+" svelte-1tav6bl",r=h(e,"click",o)},m(t,n){u(t,e,n)},p(r,o){t=o,r.arr&&n!==(n=(t.v?"red":"green")+" svelte-1tav6bl")&&(e.className=n)},d(t){t&&c(e),r()}}}function O(t){for(var e,n=t.row,r=[],o=0;o<n.length;o+=1)r[o]=M(j(t,n,o));return{c(){e=a("div");for(var t=0;t<r.length;t+=1)r[t].c();e.className="flex svelte-1tav6bl"},m(t,n){u(t,e,n);for(var o=0;o<r.length;o+=1)r[o].m(e,null)},p(t,o){if(t.arr){n=o.row;for(var i=0;i<n.length;i+=1){const u=j(o,n,i);r[i]?r[i].p(t,u):(r[i]=M(u),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&c(e),l(r,t)}}}function A(e){for(var n,o,i,s,p,g,$,m,v,_,b,y,x,w=e.arr,k=[],N=0;N<w.length;N+=1)k[N]=O(C(e,w,N));return{c(){for(var t=0;t<k.length;t+=1)k[t].c();n=f(),(o=a("label")).textContent="Сложность поля",i=f(),s=a("input"),p=f(),(g=a("button")).textContent="Пересоздать поле",$=f(),(m=a("label")).textContent="Размеры поля",v=f(),_=a("input"),b=f(),y=a("input"),d(s,"type","number"),d(_,"type","number"),d(y,"type","number"),x=[h(s,"input",e.input0_input_handler),h(g,"click",e.generateField),h(_,"input",e.input1_input_handler),h(y,"input",e.input2_input_handler)]},m(t,r){for(var c=0;c<k.length;c+=1)k[c].m(t,r);u(t,n,r),u(t,o,r),u(t,i,r),u(t,s,r),s.value=e.fieldDifficult,u(t,p,r),u(t,g,r),u(t,$,r),u(t,m,r),u(t,v,r),u(t,_,r),_.value=e.width,u(t,b,r),u(t,y,r),y.value=e.height},p(t,e){if(t.arr){w=e.arr;for(var r=0;r<w.length;r+=1){const o=C(e,w,r);k[r]?k[r].p(t,o):(k[r]=O(o),k[r].c(),k[r].m(n.parentNode,n))}for(;r<k.length;r+=1)k[r].d(1);k.length=w.length}t.fieldDifficult&&(s.value=e.fieldDifficult),t.width&&(_.value=e.width),t.height&&(y.value=e.height)},i:t,o:t,d(t){l(k,t),t&&(c(n),c(o),c(i),c(s),c(p),c(g),c($),c(m),c(v),c(_),c(b),c(y)),r(x)}}}function F(t){let e=Math.round(Math.random()*t);return Math.min(e,t-1)}function L(t,e,n){let{width:r=16,height:o=16}=e,i=[],u=1;function c(t,e){let u=[[-1,0],[1,0],[0,-1],[0,1],[0,0]];for(let[c,l]of u){let u=t+c,a=e+l;u>=0&&a>=0&&u<r&&a<o&&(i[u][a]=1-i[u][a],n("arr",i))}}function l(t,e){c(t,e),0==i.reduce((t,e)=>t+e.reduce((t,e)=>t+e,0),0)&&alert("you win")}function a(){n("arr",i=[]);for(let t=0;t<r;++t){i[t]=[],n("arr",i);for(let e=0;e<o;++e)i[t][e]=0,n("arr",i)}let t=(F(20)+13)*u;for(let e=0;e<t;++e)c(F(r),F(o))}return a(),t.$set=(t=>{"width"in t&&n("width",r=t.width),"height"in t&&n("height",o=t.height)}),{width:r,height:o,arr:i,fieldDifficult:u,userStep:l,generateField:a,click_handler:function({x:t,y:e}){return l(t,e)},input0_input_handler:function(){u=s(this.value),n("fieldDifficult",u)},input1_input_handler:function(){r=s(this.value),n("width",r)},input2_input_handler:function(){o=s(this.value),n("height",o)}}}return new class extends D{constructor(t){super(),E(this,t,L,A,i,["width","height"])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
